<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Search &amp; Rescue - CS684 Spring 2022</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="Welcome.html">Welcome</a></li><li class="chapter-item "><a href="Installation_instructions.html">Installation Instructions</a></li><li class="chapter-item "><a href="Resources.html">Resources</a></li><li class="chapter-item expanded "><a href="CS684_Labs.html">Labs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Lab-1.html">Lab 1</a></li><li class="chapter-item "><a href="CS684_Lab-2.html">Lab 2</a></li><li class="chapter-item expanded "><a href="CS684_Lab-3.html">Lab 3</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="CS684_Lab-3_SR.html" class="active">Search & Rescue</a></li><li class="chapter-item "><a href="CS684_Lab-3_VP.html">Valet Parking</a></li></ol></li><li class="chapter-item "><a href="CS684_Lab-4.html">Lab 4</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Lab-4_SR.html">Search & Rescue</a></li><li class="chapter-item "><a href="CS684_Lab-4_VP.html">Valet Parking</a></li></ol></li><li class="chapter-item "><a href="CS684_Lab-5.html">Lab 5</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Lab-5_SR.html">Search & Rescue</a></li><li class="chapter-item "><a href="CS684_Lab-5_VP.html">Valet Parking</a></li></ol></li></ol></li><li class="chapter-item "><a href="CS684_Assignments.html">Assignments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Assignment-1.html">Assignment 1</a></li><li class="chapter-item "><a href="CS684_Assignment-2.html">Assignment 2</a></li><li class="chapter-item "><a href="CS684_Assignment-3.html">Assignment 3</a></li><li class="chapter-item "><a href="CS684_Assignment-4.html">Assignment 4</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CS684 Spring 2022</h1>

                    <div class="right-buttons">

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <center><h3 id="cs684-embedded-system-course"><a class="header" href="#cs684-embedded-system-course">CS684: Embedded System Course</a></h3></center>
<center><h4 id="lab-3-lustreheptagon-implementation-of-search--rescue"><a class="header" href="#lab-3-lustreheptagon-implementation-of-search--rescue">Lab 3: Lustre/Heptagon implementation of Search & Rescue</center></a></h4>
<hr />
<h3 id="aim"><a class="header" href="#aim">Aim</a></h3>
<p>In this lab, the robot should reach to destination along with scanning the plots by using <code>Line following</code> and <code>Path planning</code> algorithm. Hence an algorithm has to be developed for <code>Line following</code> and <code>Path planning</code> in Heptagon.</p>
<h3 id="arena-description"><a class="header" href="#arena-description">Arena Description:</a></h3>
<p>Refer to the arena image given below:</p>
<div align='center'>
<p><img src="./images/sr_arena.png" alt="img" /></p>
</div>
<ul>
<li>This is the arena provided for the project. There are <strong>9  plots</strong> in the arena numbered from <strong>1 to 9</strong> (written in red) that has to be scanned by the robot while traversing the arena. </li>
<li>The intersection of black lines are called <strong>nodes</strong> and are numbered from <strong>1 to 16</strong> (written in green). The path covered by the robot is represented using the nodes which has been covered.</li>
<li>For a plot, there are <strong>4 mid_nodes</strong> from which it can be scanned as shown below. A plot will be considered scanned only if the robot reaches any of the 4 mid_nodes numbered from 1 to 4 (written in blue). Hence each plot will have 4 mid_nodes from which it can be scanned. </li>
</ul>
<div align='center'>
<p><img src="./images/plot.png" alt="img" /></p>
</div>
<h3 id="algorithm"><a class="header" href="#algorithm">Algorithm</a></h3>
<ul>
<li>For this lab, the start position (S) of the robot is node 1 (facing upward) and the end destination is node 12 (E) marked using pink arrows in the above arena image. </li>
<li>Task is to reach to node 12 by following the black line using Line following algorithm and keeping the track of nodes visited and plots scanned using path planning algorithm. </li>
<li>Use PID controller for Line following.</li>
<li>Black line following has to be done using the white line sensors provided. 5 sensors will be provided and the team can decide the position of the sensors.</li>
<li>Each sensor value ranges between: 0 to 1023.</li>
<li>For example, if you have chosen the threshold value for the sensor as 400, if a sensor value is less than 400 then that particular sensor is not on the black line and if the value of the particular sensor is greater than threshold then that sensor is on the black surface.</li>
<li>So depending upon the number of sensors on black line and white surface, robot have to decide whether it is on black line or node or mid_node. The same cases as given in Lab 1 (FSM) applies here as well but rather than binary values, now you have to consider values between 0 to 1023. </li>
<li>Hence the input to the Heptagon node will be the values from these 5 sensors. If only middle sensor is on the line then follow the black line, if it is a node (depending on the number of sensors on black) then keep a track of it to reach to next destination node and if it has detected a mid_node (depending on the number of sensors on black) then scan the plot and keep track of the plot visited using path planning algorithm.</li>
<li>Likewise, team has to assume different scenarios or test cases which may come across while robot is traversing the arena.</li>
</ul>
<h3 id="input--output-format"><a class="header" href="#input--output-format">Input &amp; Output format:</a></h3>
<ol>
<li>5 inputs of white line sensors are required.</li>
<li>From the final node, 4 outputs are required: plot_mid_node, path, direction, (vel_left, vel_right) : int
<ol>
<li><strong>plot_mid_node:</strong> This should represent information about the plots visited and the mid_node from which each plot is scanned. For example, if plot 1 is scanned from mid_node numbered 2, then the pair will be represented as <strong>'12'</strong>.</li>
<li><strong>path:</strong> This should represent the node detected by the robot, i.e the nodes through which the robot passes. (numbered 1 to 16)</li>
<li><strong>direction:</strong> This should contain the direction followed by the robot at each node. Refer to below table for representation of different directions.</li>
<li><strong>(vel_left, vel_right):</strong> This represents the velocities of the left and right motors for a particular input combination of 5 white line sensors.</li>
</ol>
</li>
</ol>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Direction</th><th style="text-align: center">Representation</th></tr></thead><tbody>
<tr><td style="text-align: center">Stop</td><td style="text-align: center">0</td></tr>
<tr><td style="text-align: center">Forward</td><td style="text-align: center">1</td></tr>
<tr><td style="text-align: center">Left</td><td style="text-align: center">2</td></tr>
<tr><td style="text-align: center">Right</td><td style="text-align: center">3</td></tr>
<tr><td style="text-align: center">Backward</td><td style="text-align: center">4</td></tr>
</tbody></table>
</div>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<ul>
<li>
<p>Consider the case where the robot travels straight from node 1 to 3 scanning the plots 2 and 3 and takes a left turn. The ouput format for plot_mid_node, path and direction will be: <br></p>
<ol>
<li>plot_mid_node = [11,....,21...]</li>
<li>path = [2,....3]</li>
<li>direction = [3,1,1,2] </li>
</ol>
</li>
<li>
<p>While following the straight line, you will have to correct the position of the robot using PID algorithm. Consider the traversal from node 2 to 3. 
You have to provide sample inputs and outputs in tabular form. Assume that while the robot is moving straight from node 2 to 3, it deviates from the black line towards left. If the second sensor from left is now on the line (instead of middle sensor which should be the ideal case while travelling on the line), it has to take a slight turn to the right for bringing the robot back on line. Hence the motor velocities have to be modified accordingly.</p>
</li>
<li>
<p>The velocities can be represented using values between 0 and 100 where giving 0 stops that particular motor.</p>
</li>
<li>
<p>We will be testing your code using different input combinations for the sensors. The testcases you must consider should include,</p>
<ol>
<li>How the robot can stay on the black line with little adjustments?</li>
<li>How does the robot differentiate between the black line and black nodes?</li>
<li>How the sensor values will change while the robot takes left or right turns at the nodes?</li>
</ol>
</li>
<li>
<p>Now consider the case stated in the above example of the robot deviating to the left. A sample input for this case can be considered as [x,y,x,x,x] where y represents the analog sensor value below threshold which is on the line and x represents the analog sensors value above threshold which are on white background. The output for this particular case will then be (1,0) since right turn has to be taken for correcting the path.</p>
</li>
<li>
<p>Each element in the <strong>direction</strong> corresponds to the direction (numbered 0 to 4) taken at the node present in the <strong>path</strong>.</p>
</li>
</ul>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="CS684_Lab-3.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="CS684_Lab-3_VP.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="CS684_Lab-3.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="CS684_Lab-3_VP.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
