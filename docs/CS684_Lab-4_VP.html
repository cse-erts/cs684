<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Valet Parking - CS684 Spring 2022</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="Welcome.html">Welcome</a></li><li class="chapter-item "><a href="Installation_instructions.html">Installation Instructions</a></li><li class="chapter-item "><a href="Resources.html">Resources</a></li><li class="chapter-item expanded "><a href="CS684_Labs.html">Labs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Lab-1.html">Lab 1</a></li><li class="chapter-item "><a href="CS684_Lab-2.html">Lab 2</a></li><li class="chapter-item "><a href="CS684_Lab-3.html">Lab 3</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Lab-3_SR.html">Search & Rescue</a></li><li class="chapter-item "><a href="CS684_Lab-3_VP.html">Valet Parking</a></li></ol></li><li class="chapter-item expanded "><a href="CS684_Lab-4.html">Lab 4</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Lab-4_SR.html">Search & Rescue</a></li><li class="chapter-item expanded "><a href="CS684_Lab-4_VP.html" class="active">Valet Parking</a></li></ol></li><li class="chapter-item "><a href="CS684_Lab-5.html">Lab 5</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Lab-5_SR.html">Search & Rescue</a></li><li class="chapter-item "><a href="CS684_Lab-5_VP.html">Valet Parking</a></li></ol></li></ol></li><li class="chapter-item "><a href="CS684_Assignments.html">Assignments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="CS684_Assignment-1.html">Assignment 1</a></li><li class="chapter-item "><a href="CS684_Assignment-2.html">Assignment 2</a></li><li class="chapter-item "><a href="CS684_Assignment-3.html">Assignment 3</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CS684 Spring 2022</h1>

                    <div class="right-buttons">

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <center><h3 id="cs684-embedded-system-course"><a class="header" href="#cs684-embedded-system-course">CS684: Embedded System Course</a></h3></center>
<center><h4 id="lab-4-device-drivers-for-io-motor-pwm-and-interrupts"><a class="header" href="#lab-4-device-drivers-for-io-motor-pwm-and-interrupts">Lab 4: Device Drivers for IO, Motor, PWM and Interrupts</center></a></h4>
<hr>
<h3 id="aim"><a class="header" href="#aim">Aim:</a></h3>
<p>In this lab, you will be interfacing IR Proximity sensors, position encoders and motors to the AlphaBot. Implement <code>Obstacle following</code> algorithm if any static obstacle has been detected by the robot along the path. </p>
<hr />
<h3 id="description"><a class="header" href="#description">Description:</a></h3>
<div align='center'>
<p><img src="./images/lab4_sr.png" alt="img" /></p>
</div>
<p>Robot has to travel from point A to point B. While robot is moving forward, any static obstacle can be present on the way of the robot. If the robot detects an obstacle along the path, then it has to cross the obstacle using obstacle following algorithm and continue moving in same direction.</p>
<blockquote>
<p>Note: Consider Point A and Point B are in straight line (with respect to initial robot facing).</p>
</blockquote>
<hr />
<h3 id="interfacing"><a class="header" href="#interfacing">Interfacing:</a></h3>
<ol>
<li>Motors: On AlphBot, motors are connected to following pins:</li>
</ol>
<div class="table-wrapper"><table><thead><tr><th></th><th>Motor Driver Pin</th><th>Arduino Pin</th><th>Port Pin</th></tr></thead><tbody>
<tr><td>Direction-Left Motor</td><td>IN1</td><td>A0</td><td>PC0</td></tr>
<tr><td>Direction-Left Motor</td><td>IN2</td><td>A1</td><td>PC1</td></tr>
<tr><td>Direction-Right Motor</td><td>IN3</td><td>A2</td><td>PC2</td></tr>
<tr><td>Direction-Right Motor</td><td>IN4</td><td>A4</td><td>PC3</td></tr>
<tr><td>Enable-Left Motor</td><td>ENA</td><td>D5</td><td>PD5 (OC0B)</td></tr>
<tr><td>Enable-Right Motor</td><td>ENB</td><td>D6</td><td>PD6 (OC0A)</td></tr>
</tbody></table>
</div>
<ul>
<li>For PWM - use 8 bit Fast PWM</li>
</ul>
<ol start="2">
<li>
<p>IR Proximity Sensors: You need to connect sensors to the AlphaBot. You can connect the sensors to the shield pins provided on top PCB of the AlphaBot.
Total 5 + 2 IR proximity sensors are provided in the kit. You can decide on the number of sensors and position of the sensors accoriding to your algorithm.
You can use the sensor either in anlog or in digital mode.</p>
</li>
<li>
<p>Position Encoders: On AlphBot, position encoders are connected to following pins:</p>
</li>
</ol>
<div class="table-wrapper"><table><thead><tr><th>Encoder</th><th>Arduiono Pin</th><th>Port Pin</th></tr></thead><tbody>
<tr><td>Left Motor</td><td>D2</td><td>PD2</td></tr>
<tr><td>Right Motor</td><td>D3</td><td>PD3</td></tr>
</tbody></table>
</div>
<blockquote>
<p>Note: Position encoder can be used to measure the distance travelled by robot.</p>
</blockquote>
<hr />
<h3 id="programming-instructions"><a class="header" href="#programming-instructions">Programming Instructions:</a></h3>
<ol>
<li>Motor interfacing and PWM initialisation code should be in Embedded C.</li>
<li>IR Proximity sensors and Position Encoder Interfacing code should be in Embedded C.</li>
<li>Write the logic about <code>obstacle following</code> in Statechart or Heptagon.</li>
<li>Values received from sensors should be given to the Statechart or Heptagon.</li>
<li>Velocity values and direction are output of Statechart or Heptagon</li>
</ol>
<blockquote>
<p>Note: Do not use Arduino functions for motor and sensors. For debugging, you can use serial functions of arduino library. Interfacing codes need to be written using Embedded C only. Use masking wherever required.</p>
</blockquote>
<blockquote>
<p>Note: No marks will be given for Arduino codes. Marks will be deducted if masking is not used properly.</p>
</blockquote>
<hr />
<h3 id="video-instructions"><a class="header" href="#video-instructions">Video Instructions:</a></h3>
<ul>
<li>Keep the robot on ground. Turn on the robot. Initially robot should move in forward direction.</li>
<li>Keep obstacle in front of the robot.</li>
<li>Show that robot has crossed the obstacle and traversed from point A to point B.</li>
</ul>
<blockquote>
<p>Note: Consider Point A and Point B are in straight line.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="CS684_Lab-4_SR.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="CS684_Lab-5.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="CS684_Lab-4_SR.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="CS684_Lab-5.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
